<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Legal document analysis assistant demo UI" />
    <meta name="color-scheme" content="light dark" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <title>Legal AI Assistant</title>
    <style>
      :root {
        --bg-start: #667eea; --bg-end: #764ba2; --surface: #ffffff;
        --text: #111827; --muted: #6b7280; --border: #e5e7eb; --ring: #6366f1; --success: #22c55e;
        --shadow: 0 10px 30px rgba(0,0,0,.15);
      }
      [data-theme="dark"] {
        --bg-start: #1f2937; --bg-end: #111827; --surface: #0b1220;
        --text: #e5e7eb; --muted: #9ca3af; --border: #1f2937; --ring: #818cf8; --success: #34d399;
        --shadow: 0 10px 30px rgba(0,0,0,.5);
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
        background:linear-gradient(135deg,var(--bg-start),var(--bg-end));display:grid;place-items:center;padding:24px}
      .app{width:min(920px,100%)}
      header{text-align:center;margin-bottom:18px}
      h1{margin:0 0 6px;font-size:clamp(1.8rem,1rem + 3vw,2.4rem)}
      .card{background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:28px;box-shadow:var(--shadow)}
      .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
      textarea{width:100%;min-height:180px;padding:16px;border-radius:12px;border:2px solid var(--border);font:inherit;resize:vertical;background:transparent;color:inherit}
      textarea:focus{outline:none;border-color:var(--ring);box-shadow:0 0 0 4px color-mix(in oklab,var(--ring) 20%,transparent)}
      .btn{appearance:none;border:0;cursor:pointer;padding:14px 18px;border-radius:999px;font-weight:600;transition:transform .12s ease, box-shadow .12s ease}
      .btn-primary{width:100%;font-size:1.05rem;background:linear-gradient(45deg,#667eea,#764ba2);color:#fff;box-shadow:0 8px 16px rgba(0,0,0,.18)}
      .btn-primary:hover{transform:translateY(-1px)}
      .response{margin-top:18px;padding:18px;border:1px solid var(--border);background:color-mix(in oklab,var(--surface) 85%, #10b981 7%);border-left:6px solid var(--success);border-radius:12px}
      .loading{display:inline-flex;gap:10px;align-items:center;color:var(--muted)}
      .spinner{width:18px;height:18px;border-radius:50%;border:3px solid currentColor;border-right-color:transparent;animation:spin .7s linear infinite}
      @keyframes spin{to{transform:rotate(360deg)}}
      @media (prefers-reduced-motion:reduce){.btn{transition:none}.spinner{animation:none}}
    </style>
  </head>

  <!-- Auth kontrolünden önce flicker'ı önlemek için body gizli -->
  <body style="display:none">
    <script>
      (function(){
        try {
          var authed = sessionStorage.getItem('authenticated') === 'true' || localStorage.getItem('authenticated') === 'true';
          if (!authed) { window.location.replace('./login.html'); return; }
          document.body.style.display = '';
        } catch (e) { document.body.style.display = ''; }
      })();
    </script>

    <div class="app">
      <header>
        <h1>⚖️ Legal Document Analysis Assistant</h1>
      </header>

      <main class="card">
        <!-- React/Vite uygulaması buraya mount edilir -->
        <div id="root">
          <noscript>
            <section class="response" aria-live="polite">
              JavaScript devre dışı. Uygulamayı kullanmak için JavaScript’i etkinleştirin.
            </section>
          </noscript>
        </div>
      </main>
    </div>

    <!-- Vite/React giriş noktası -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
